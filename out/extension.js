var d=(s,n)=>()=>(n||s((n={exports:{}}).exports,n),n.exports);var he=d((js,fe)=>{var f=require("vscode"),me=require("path"),X=class{static get providedCodeActionKinds(){return[f.CodeActionKind.QuickFix]}provideCodeActions(n,e,t){let o=t.diagnostics,a=[];return o.forEach(c=>{c.code==="create-file"?a.push(this.createFileQuickFix(c.packageNameOrFilePath,n),this.createFilesQuickFix(n)):c.code==="install-package-global"?a.push(this.installPackageQuickFix(c.packageNameOrFilePath,n),this.installPackageAsDevDependencyQuickFix(c.packageNameOrFilePath,n),this.installPackageGlobalQuickFix(c.packageNameOrFilePath,n),this.installMissingPackagesFix(n),this.installMissingPackagesGloballyFix(n)):c.code==="install-package-this-project"?a.push(this.installPackageQuickFix(c.packageNameOrFilePath,n),this.installPackageAsDevDependencyQuickFix(c.packageNameOrFilePath,n),this.installMissingPackagesFix(n),this.installMissingPackagesGloballyFix(n)):c.code==="uninstall-package"&&a.push(this.uninstallPackageQuickFix(c.packageNameOrFilePath,n),this.uninstallPackagesUnusedFix(n))}),a}createFileQuickFix(n,e){let t=new f.CodeAction("Create missing file",f.CodeActionKind.QuickFix),o=me.resolve(me.dirname(e.fileName),n);return t.command={title:"Create file",command:"npm-module-checker.createFile",arguments:[o,e]},t}createFilesQuickFix(n){let e=new f.CodeAction("Fix all problems (create all missing files)",f.CodeActionKind.QuickFix);return e.command={title:"Create files",command:"npm-module-checker.createAllMissingFiles",arguments:[n]},e}installPackageQuickFix(n,e){let t=new f.CodeAction(`Install "${n}" package in this project`,f.CodeActionKind.QuickFix);return t.command={title:"Install package",command:"npm-module-checker.installPackage",arguments:[n,e]},t}installPackageAsDevDependencyQuickFix(n,e){let t=new f.CodeAction(`Install "${n}" package as devDependency in this project`,f.CodeActionKind.QuickFix);return t.command={title:"Install package as devDependency",command:"npm-module-checker.installPackageAsDevDependency",arguments:[n,e]},t}installPackageGlobalQuickFix(n,e){let t=new f.CodeAction(`Install "${n}" package globally`,f.CodeActionKind.QuickFix);return t.command={title:"Install global package",command:"npm-module-checker.installGlobalPackage",arguments:[n,e]},t}installMissingPackagesFix(n){let e=new f.CodeAction("Fix all problems (install missing packages) in this project",f.CodeActionKind.QuickFix);return e.command={title:"Fix all problems (install missing packages) in this project",command:"npm-module-checker.installMissingPackagesFix",arguments:[n]},e}installMissingPackagesGloballyFix(n){let e=new f.CodeAction("Fix all problems (install missing packages) globally",f.CodeActionKind.QuickFix);return e.command={title:"Fix all problems (install missing packages) globally",command:"npm-module-checker.installMissingPackagesGloballyFix",arguments:[n]},e}uninstallPackageQuickFix(n,e){let t=new f.CodeAction(`Uninstall "${n}" package`,f.CodeActionKind.QuickFix);return t.command={title:"Uninstall package",command:"npm-module-checker.uninstallPackage",arguments:[n,e]},t}uninstallPackagesUnusedFix(n){let e=new f.CodeAction("Fix all problems (uninstall unused packages)",f.CodeActionKind.QuickFix);return e.command={title:"Fix all problems (uninstall unused packages)",command:"npm-module-checker.uninstallAllUnusedPackages",arguments:[n]},e}};fe.exports=X});var xe=d((As,ke)=>{var mn=require("fs"),fn=require("path");function hn(s,n){try{let e=fn.join(s,n);return mn.existsSync(e)}catch{return!1}}ke.exports=hn});var Fe=d((Os,Pe)=>{var kn=require("fs"),W=require("path");function xn(s){let n=W.dirname(s);for(;n!==W.parse(n).root;){let e=W.join(n,"package.json");if(kn.existsSync(e))return e;n=W.dirname(n)}return null}Pe.exports=xn});var ee=d((Ns,we)=>{var Pn=require("vscode"),Z=class extends Pn.Diagnostic{packageNameOrFilePath;line;startPos;endPos};function Fn(s,n,e,t,o,a,c,u){let i=new Z(s,e,o);return i.source="npm-module-checker",i.code=t,i.packageNameOrFilePath=n,i.line=a,i.startPos=c,i.endPos=u,i}we.exports=Fn});var R=d((Us,ye)=>{var wn=/(?:require\s*\(\s*["'`]([^"'`]+)["'`]\s*\)|import(?:\s+[\w*{},\s"'`]*from)?\s*["'`]([^"'`]+)["'`]\s*|import\s*\(\s*["'`]([^"'`]+)["'`]\s*\))/g,yn=["js","ts","jsx","tsx","mjs","cjs","vue"];ye.exports={extJs:yn,regexCheckImport:wn}});var S=d((Es,Ce)=>{var Cn=require("vscode"),ne=Cn.window.createOutputChannel("NPM package checker");function $n(s,n=!0){ne.appendLine(s),n&&ne.show()}Ce.exports={outputChannel:ne,showOutput:$n}});var ve=d((Qs,$e)=>{function vn(s,n,e,t){s[n]&&clearTimeout(s[n]),s[n]=setTimeout(e,t)}$e.exports=vn});var be=d((Js,Ie)=>{var I=require("vscode"),J=require("fs"),j=require("path"),qn=xe(),Dn=Fe(),_=ee(),qe=require("module").builtinModules,{regexCheckImport:In}=R(),{showOutput:bn}=S(),Sn=ve(),Mn=["module","vscode","child_process","fs","path",...qe.map(s=>s.replace(/^node:/,"")),...qe.map(s=>"node:"+s.replace(/^node:/,""))],De=I.workspace.getConfiguration("npmModuleChecker");Ie.exports=function(s,n,e){return function(o,a,c=!1){return new Promise(u=>{Sn(o,`checkDocument_${a.uri.path}`,()=>{let i=I.workspace.getConfiguration("npmModuleChecker"),r=i.get("customIgnorePackages",[]),h=i.get("checkInsideStrings",!1),F=i.get("ignoreFilesOrFolders",[]),N={javascript:i.get("enableDiagnosticsJavascript",i.inspect("enableDiagnosticsJavascript").defaultValue),typescript:i.get("enableDiagnosticsTypescript",i.inspect("enableDiagnosticsTypescript").defaultValue),javascriptreact:i.get("enableDiagnosticsJavascriptreact",i.inspect("enableDiagnosticsJavascriptreact").defaultValue),typescriptreact:i.get("enableDiagnosticsTypescriptreact",i.inspect("enableDiagnosticsTypescriptreact").defaultValue),vue:i.get("enableDiagnosticsVue",i.inspect("enableDiagnosticsVue").defaultValue)},x={packageInstalledGlobal:i.get("packageInstalledGlobalSeverity",i.inspect("packageInstalledGlobalSeverity").defaultValue),missingPackageDependency:i.get("missingPackageDependencySeverity",i.inspect("missingPackageDependencySeverity").defaultValue),packageInstalledDevDependency:i.get("packageInstalledDevDependencySeverity",i.inspect("packageInstalledDevDependencySeverity").defaultValue),missingFileIndex:i.get("missingFileIndexSeverity",i.inspect("missingFileIndexSeverity").defaultValue),missingFile:i.get("missingFileSeverity",i.inspect("missingFileSeverity").defaultValue)};if(!N[a.languageId]){e.delete(a.uri),u([]);return}let p=a.fileName;if(F.some(m=>{if(m.startsWith("/"))try{return new RegExp(m).test(p)}catch{return bn(`Invalid regex pattern: "${m}", check your settings`,!1),!1}else return m.includes("."),j.basename(p)===m})){u([]);return}let l=[],U=a.getText();U.split(`
`).forEach((m,P)=>{let D;for(;D=In.exec(m);){let ge=m||"";if(["//","/*","*"].some(g=>ge.trim().startsWith(g)))continue;if(!h){let g=U.slice(0,D.index),w=U.slice(D.index+D[0].length);if((g.match(/"/g)||[]).length%2!==0||(g.match(/'/g)||[]).length%2!==0||(g.match(/`/g)||[]).length%2!==0||(w.match(/"/g)||[]).length%2!==0||(w.match(/'/g)||[]).length%2!==0||(w.match(/`/g)||[]).length%2!==0)continue}let k=D[1]||D[2]||D[3];if(!k||Mn.includes(k)||r.includes(k))continue;let H=D.index+D[0].indexOf(k)-1;D[0].startsWith("import")&&(H=/[`'"]/g.exec(ge).index);let pn=H+1+k.length+1,E=a.positionAt(a.offsetAt(new I.Position(P,H))),Q=a.positionAt(a.offsetAt(new I.Position(P,pn))),G=new I.Range(E,Q),de=Dn(a.fileName);if(de)if(k.startsWith(".")||k.startsWith("/")){let g=j.resolve(j.dirname(a.fileName),k),w=j.extname(a.fileName);J.existsSync(g)&&J.lstatSync(g).isDirectory()&&!J.existsSync(g+"/index"+w)?l.push(_(G,g+"/index"+w,`Cannot find module 'index${w}' from '${g}'`,"create-file",I.DiagnosticSeverity[x.missingFileIndex||"Error"],P,E.character,Q.character)):(j.extname(g)||(g=g+w),J.existsSync(g)||l.push(_(G,g,`Cannot find module '${g}'`,"create-file",I.DiagnosticSeverity[x.missingFile||"Error"],P,E.character,Q.character)))}else{let g=JSON.parse(J.readFileSync(de,"utf-8"));if(!g.dependencies||!(k in g.dependencies)){let w=qn(s,k),pe=g.devDependencies&&k in g.devDependencies;w||pe?l.push(_(G,k,`Package "${k}" is not found in this project's dependencies, but is installed ${w?"globally":"as a dev dependency"}.`,"install-package-this-project",I.DiagnosticSeverity[w?x.packageInstalledGlobal||"Warning":x.packageInstalledDevDependency||"Warning"],P,E.character,Q.character)):l.push(_(G,k,`Package "${k}" is not installed in this project's dependencies, devDependencies and globally.`,"install-package-global",I.DiagnosticSeverity[x.missingPackageDependency||"Error"],P,E.character,Q.character))}}}}),c&&(e.set(a.uri,l),n.set(a.uri,l)),u(l)},De.get("delayForCheckDocumentCall",De.inspect("delayForCheckDocumentCall").defaultValue))})}}});var L=d((Ts,Me)=>{var jn=require("vscode"),{outputChannel:An,showOutput:Se}=S();function On(s,n){Se(`
[Error]: ${s}`),Se(n.toString()),jn.window.showErrorMessage(`Failed: ${s}, check the output channel "${An.name}" for more details.`)}Me.exports=On});var Ae=d((Ks,je)=>{je.exports=function(s){return new RegExp(`(?:require\\s*\\(\\s*["'\`](?:${s.join("|")})["'\`]\\s*\\)|import(?:\\s+[\\w*{},\\s"'\`]*from)?\\s*["'\`](?:${s.join("|")})["'\`]\\s*|import\\s*\\(\\s*["'\`](?:${s.join("|")})["'\`]\\s*\\))`,"g")}});var te=d((Vs,Ne)=>{var se=require("fs"),Nn=require("path"),Un=Ae(),{extJs:En}=R();function Oe(s,n,e={}){return se.readdirSync(n).forEach(o=>{let a=Nn.join(n,o);if(se.lstatSync(a).isDirectory())Oe(s,a,e);else if(En.includes(o.split(".").pop())){let c=se.readFileSync(a,"utf-8"),u=Un(s),i=[...c.matchAll(u)].map(r=>r[0]);for(let r of s)i.some(h=>h.includes(r))&&(e[r]?e[r]++:e[r]=1)}}),e}Ne.exports=Oe});var ie=d((Gs,Ee)=>{var ae=require("vscode"),Ue=require("path"),Qn=te(),Jn=ee();function Tn(s,n){if(Ue.basename(s.fileName)!="package.json")return;let e=ae.workspace.getConfiguration("npmModuleChecker");if(!e.get("enableUnusedPackageCheck",e.inspect("enableUnusedPackageCheck").defaultValue)){n.delete(s.uri);return}let t=e.get("unusedPackageSeverity",e.inspect("unusedPackageSeverity").defaultValue);try{let o=JSON.parse(s.getText()),a=Object.keys(o.dependencies||{}),c=Qn(a,Ue.dirname(s.fileName)),u=Object.keys(c),i=a.filter(F=>!u.includes(F)),r=s.getText().indexOf("dependencies"),h=i.map(F=>{let N=s.getText().indexOf(F,r)-1,x=s.positionAt(N),p=s.positionAt(N+F.length+2),l=new ae.Range(x,p);return Jn(l,F,`The package "${F}" is not used in the project`,"uninstall-package",ae.DiagnosticSeverity[t],x.line,x.character,p.character)});n.set(s.uri,h)}catch{}}Ee.exports=Tn});var Ke=d((Ws,Te)=>{var Qe=require("vscode"),Kn=require("path"),Vn=ie();function Je(s){return s==null||s==null}function Gn(s,n,e){Qe.window.tabGroups.all.flatMap(({tabs:t})=>{t.map(o=>{if(Je(o)||Je(o.input))return;let a=o.input.uri;a&&Qe.workspace.openTextDocument(a).then(c=>{Kn.basename(a.fsPath)==="package.json"?Vn(c,e):n(s,c,!0)})})})}Te.exports=Gn});var ce=d((Rs,Ge)=>{var Ve=require("vscode"),{execSync:Wn}=require("child_process");function Rn(s,n,e,t,o){Ve.window.withProgress({location:Ve.ProgressLocation.Notification,title:e,cancellable:!1},async()=>{try{Wn(s,{cwd:n,stdio:"pipe"}),t()}catch(a){o(a)}})}Ge.exports=Rn});var oe=d((_s,Re)=>{var We=require("vscode"),_n=L();function Ln(s,n,e,t,o){let a=n.filter(e),c=[],u=[];a.forEach(i=>{try{t(i),c.push(i.packageNameOrFilePath)}catch(r){_n(o(i),r),u.push(i.packageNameOrFilePath)}}),c.length>0&&We.window.showInformationMessage(`Successfully processed ${c.length} items.`),u.length>0&&We.window.showErrorMessage(`Failed to process ${u.length} items. Check the output channel "${s.name}" for details.`)}Re.exports=Ln});var Ye=d((Ls,Le)=>{var T=require("vscode"),_e=require("fs"),Yn=require("path"),zn=te(),{outputChannel:Bn,showOutput:K}=S();function Hn(){let s=Yn.join(T.workspace.rootPath,"package.json");if(!_e.existsSync(s)){T.window.showErrorMessage("No package.json found in the workspace.");return}let n=JSON.parse(_e.readFileSync(s,"utf-8")),e=Object.keys(n.dependencies||{}),t=zn(e,T.workspace.rootPath),o=Object.keys(t),a=e.filter(c=>!o.includes(c));a.length>0?(T.window.showInformationMessage(`Found ${a.length} unused packages. Check the output channel for details.`,"Show Output","OK").then(c=>{c==="Show Output"&&Bn.show()}),K(`
[Check Unused Packages] Found ${a.length} unused packages:`,!1),a.forEach(c=>{K(`- ${c}`,!1)})):(T.window.showInformationMessage("No unused packages found."),K(`
[Check Unused Packages] No unused packages found.`,!1)),K(`
[Check Unused Packages] Number of times each package is used:`,!1);for(let c in t)K(`- ${c}: ${t[c]}`,!1)}Le.exports=Hn});var Be=d((Ys,ze)=>{var re=require("vscode"),{showOutput:Y,outputChannel:Xn}=S();function Zn(){let n=re.workspace.getConfiguration("npmModuleChecker").get("ignoreFilesOrFolders",[]),e=[];n.forEach((t,o)=>{if(t.startsWith("/"))try{new RegExp(t)}catch{e.push({pattern:t,index:o})}}),e.length?(re.window.showErrorMessage(`Found ${e.length} invalid regex patterns. Check the output channel for details.`,"Show Output","OK").then(t=>{t==="Show Output"&&Xn.show()}),Y(`
[Validate ignore patterns] Found ${e.length} invalid regex patterns:`,!1),e.forEach(({pattern:t,index:o})=>{Y(`- Pattern: "${t}", Index: ${o}`,!1)}),Y('To fix the issues, update the "ignoreFilesOrFolders" setting in your settings.json file.',!1)):(re.window.showInformationMessage("No invalid regex patterns found"),Y(`
[Validate ignore patterns] No invalid regex patterns found`,!1))}ze.exports=Zn});var Xe=d((zs,He)=>{var es=require("vscode");function ns(s){return s===es.DiagnosticSeverity.Warning?"warning":" error "}function ss(s){let n="",e=!0,t=[];return s.forEach((o,a)=>{o.length!==0&&(n+=`${e?"":`
`}
	${a} (${o.length} issues)`,e=!1,o.forEach(c=>{let u=ns(c.severity);n+=`
    ${c.line+1}:${c.startPos}  [${u}]  ${c.message}`,t.push(c.packageNameOrFilePath)}))}),{output:n,arrPackagesOrFiles:t}}He.exports=ss});var tn=d((Bs,sn)=>{var ts=require("vscode"),Ze=require("fs"),en=require("path"),{extJs:as}=R();async function nn(s,n,e,t){let o=Ze.readdirSync(e);for(let a of o){let c=en.join(e,a);if(Ze.statSync(c).isDirectory())a!=="node_modules"&&await nn(s,n,c,t);else if(as.includes(en.extname(a).slice(1))){let u=await ts.workspace.openTextDocument(c),i=await n(s,u);t.set(c,i)}}}sn.exports=nn});var on=d((Hs,cn)=>{var A=require("vscode"),le=require("fs"),ue=require("path"),{outputChannel:is}=S(),cs=Xe(),os=tn(),an=ce();function rs(s,n,e,t){return[{name:"scanMissingPackagesInFolder",prefix:"Missing Packages Checker",type:"package",filterFn:a=>a.code.startsWith("install-package")},{name:"scanMissingModulesInFolder",prefix:"Missing Modules Checker",type:"module",filterFn:a=>a.code==="create-file"},{name:"scanMissingPackagesAndModulesInFolder",prefix:"Missing Packages and Modules Checker",type:"packageAndModule",filterFn:()=>!0}].map(({name:a,prefix:c,type:u,filterFn:i})=>A.commands.registerCommand(`npm-module-checker.${a}`,async r=>{le.lstatSync(r.fsPath).isFile()&&(r=A.Uri.file(ue.dirname(r.fsPath)));let h=new Map;await os(s,n,r.fsPath,h);let F=new Map;Array.from(h.keys()).forEach(p=>{F.set(p,h.get(p).filter(l=>i(l)))});let x=Array.from(F.values()).flat();if(x.length===0)A.window.showInformationMessage(`No issues found in ${r.fsPath}`);else{let p=[],l=[];x.forEach(q=>{q.code==="create-file"?p.push(q.packageNameOrFilePath):l.push(q.packageNameOrFilePath)}),p=[...new Set(p)],l=[...new Set(l)],A.window.showInformationMessage(`Found ${x.length} issues in ${r.fsPath}. Check the output channel "${is.name}" for details. Do you want to fix the issues?`,"Yes","No").then(q=>{if(q==="Yes"){if(u==="package")an(`npm install ${l.join(" ")}`,r.fsPath,`Installing ${l.length} missing packages...`,()=>A.window.showInformationMessage(`Installed ${l.length} packages successfully`),m=>t(`Cannot install packages: ${l.join(", ")}`,m));else if(u==="module")for(let m of p)try{le.writeFileSync(m,"","utf-8")}catch(P){e(`Cannot create file: ${m}, ${P}`)}else if(l.length>0&&an(`npm install ${l.join(" ")}`,r.fsPath,`Installing ${l.length} missing packages...`,()=>A.window.showInformationMessage(`Installed ${l.length} packages successfully`),m=>t(`Cannot install packages: ${l.join(", ")}`,m)),p.length>0)for(let m of p)try{le.writeFileSync(m,"","utf-8")}catch(P){e(`Cannot create file: ${m}, ${P}`)}}}),e(`
[${c}] Found ${x.length} issues in ${r.fsPath}:`);let{output:U}=cs(F);e(U.slice(1)),e("To fix the issues, run the following commands:"),u==="package"?e(`npm install ${l.join(" ")} --prefix ${r.fsPath}`):u==="module"?e(`cd ${r.fsPath} && touch ${p.map(q=>`"${ue.relative(r.fsPath,q)}"`).join(" ")}`):(l.length>0&&e(`npm install ${l.join(" ")} --prefix ${r.fsPath}`),p.length>0&&e(`cd ${r.fsPath} && touch ${p.map(q=>`"${ue.relative(r.fsPath,q)}"`).join(" ")}`))}}))}cn.exports=rs});var ln=d((Xs,rn)=>{var b=require("vscode"),ls=require("fs"),us=oe(),{showOutput:gs,outputChannel:ds}=S(),ps=on(),ms=L();function fs(s,n,e,t,o,a,c,u){return[b.commands.registerCommand("npm-module-checker.createFile",n),b.commands.registerCommand("npm-module-checker.createAllMissingFiles",i=>{let r=e.get(i.uri)||[];us(ds,r,h=>h.code==="create-file",h=>ls.writeFileSync(h.packageNameOrFilePath,"","utf-8"),h=>`Cannot create file: ${h.packageNameOrFilePath}`),t(i,!0)}),b.commands.registerCommand("npm-module-checker.installPackage",o),b.commands.registerCommand("npm-module-checker.installPackageAsDevDependency",(i,r)=>o(i,r,"--save-dev")),b.commands.registerCommand("npm-module-checker.installGlobalPackage",(i,r)=>o(i,r,"-g")),b.commands.registerCommand("npm-module-checker.installMissingPackagesFix",a),b.commands.registerCommand("npm-module-checker.installMissingPackagesGloballyFix",i=>a(i,!0)),b.commands.registerCommand("npm-module-checker.uninstallPackage",(i,r)=>c(i,r)),b.commands.registerCommand("npm-module-checker.uninstallAllUnusedPackages",i=>u(i)),...ps(s,t,gs,ms)]}rn.exports=fs});var y=require("vscode"),hs=require("fs"),O=require("path"),{execSync:ks}=require("child_process"),un=he(),xs=be(),{outputChannel:Ps}=S(),V=L(),M=Ke(),B=ce(),Fs=oe(),gn=ie(),ws=Ye(),ys=Be(),Cs=ln(),dn,v={},z=new Map,C=y.languages.createDiagnosticCollection("npm-module-checker"),$;function $s(s){try{dn=ks("npm root -g").toString().trim()}catch(e){V("Failed to get global node_modules path",e);return}$=xs(dn,z,C);let n=[y.workspace.onDidOpenTextDocument(e=>{$(v,e,!0),O.basename(e.fileName)==="package.json"&&gn(e,C)}),y.workspace.onDidChangeTextDocument(e=>{O.basename(e.document.fileName)==="package.json"?(M(v,$,C),gn(e.document,C)):$(v,e.document,!0)}),y.workspace.onDidCloseTextDocument(e=>C.delete(e.uri)),y.languages.registerCodeActionsProvider(["javascript","typescript","json","vue"],new un,{providedCodeActionKinds:un.providedCodeActionKinds}),y.commands.registerCommand("npm-module-checker.validateIgnorePatterns",ys),y.commands.registerCommand("npm-module-checker.checkUnusedPackages",ws),...Cs(v,vs,z,$,qs,Ds,Is,bs)];s.subscriptions.push(...n),M(v,$,C),y.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("npmModuleChecker")&&M(v,$,C)})}function vs(s){Fs(Ps,[{packageNameOrFilePath:s}],()=>!0,n=>hs.writeFileSync(n.packageNameOrFilePath,"","utf-8"),n=>`Cannot create file: ${n.packageNameOrFilePath}`),M(v,$,C)}function qs(s,n,e=""){let t=`npm install ${e} ${s}`.replace(/\s+/g," ");B(t,O.dirname(n.fileName),`Installing ${s}...`,()=>y.window.showInformationMessage(`Installed package: ${s} successfully`),o=>V(`Cannot install package "${s}"`,o)),M(v,$,C)}function Ds(s,n=!1){let t=(z.get(s.uri)||[]).filter(c=>c.code.startsWith("install-package")).map(c=>c.packageNameOrFilePath),o=n?`npm install -g ${t.join(" ")}`:`npm install ${t.join(" ")}`,a=n?void 0:O.dirname(s.fileName);B(o,a,`Installing ${t.length} missing packages...`,()=>y.window.showInformationMessage(`Installed ${t.length} packages successfully`),c=>V(`Cannot install packages: ${t.join(", ")}`,c)),M(v,$,C)}function Is(s,n){let e=`npm uninstall ${s}`;B(e,O.dirname(n.fileName),`Uninstalling ${s}...`,()=>y.window.showInformationMessage(`Uninstalled package: ${s} successfully`),t=>V(`Cannot uninstall package "${s}"`,t)),M(v,$,C)}function bs(s){let e=(z.get(s.uri)||[]).filter(o=>o.message.startsWith("Unused package")).map(o=>o.message.split(": ")[1]),t=`npm uninstall ${e.join(" ")}`;B(t,O.dirname(s.fileName),`Uninstalling ${e.length} unused packages...`,()=>y.window.showInformationMessage(`Uninstalled ${e.length} packages successfully`),o=>V(`Cannot uninstall packages: ${e.join(", ")}`,o)),M(v,$,C)}function Ss(){}module.exports={activate:$s,deactivate:Ss};
